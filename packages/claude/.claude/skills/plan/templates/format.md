# 計画フォーマットテンプレート

EnterPlanModeで使用する計画の出力フォーマット。
粒度レベルに応じて適切なテンプレートを選択する。

---

## Quick（軽量）

単純な変更向け。1-2ファイル、明確な修正箇所。

```markdown
# 実装計画: {タスク名}

## 概要
{1-2文で何をするか}

## 変更内容
- [ ] `{ファイルパス}`: {変更内容}
- [ ] `{ファイルパス}`: {変更内容}

## 確認事項
- {実装時の注意点}
```

---

## Standard（標準）

一般的な機能追加・修正向け。複数ファイル、テスト含む。

```markdown
# 実装計画: {タスク名}

## 背景
{なぜこの変更が必要か、1-2段落}

## 目標
- {達成すべきこと1}
- {達成すべきこと2}

## スコープ
**含むもの:**
- ...

**含まないもの:**
- ...

## 実装ステップ

### Phase 1: {フェーズ名}
- [ ] **Step 1.1**: {具体的なタスク}
  - ファイル: `{パス}`
  - 内容: {何をするか}

- [ ] **Step 1.2**: {具体的なタスク}
  - ...

### Phase 2: {フェーズ名}
- [ ] **Step 2.1**: ...

## テスト方針
- [ ] 単体テスト: {対象}
- [ ] 結合テスト: {対象}（必要な場合）

## リスク・注意点
- {リスク1}: {軽減策}
- {リスク2}: {軽減策}
```

---

## Detailed（詳細）

複雑な変更、アーキテクチャ影響向け。設計判断を含む。

```markdown
# 技術設計書: {タスク名}

## メタデータ
- **作成日**: {YYYY-MM-DD}
- **ステータス**: Draft / Review / Approved
- **関連PBI**: {あれば}

---

## 1. 背景と問題提起

### 現状
{現在のシステム状態、問題点}

### 目標
{この変更で達成したいこと}

### 成功指標
- {測定可能な指標1}
- {測定可能な指標2}

---

## 2. スコープ

### In Scope（対象）
- ...

### Out of Scope（対象外）
- ...

### 非機能要件
- パフォーマンス: {要件}
- セキュリティ: {要件}
- 可用性: {要件}

---

## 3. 設計

### 3.1 アーキテクチャ概要
{高レベルな設計図、コンポーネント関係}

### 3.2 詳細設計

#### コンポーネント1: {名前}
- **責務**: {何をするか}
- **インターフェース**: {公開API}
- **依存関係**: {使用するもの}

#### コンポーネント2: {名前}
...

### 3.3 データモデル
{必要な場合、スキーマ変更等}

### 3.4 API設計
{必要な場合、エンドポイント定義}

---

## 4. 代替案の検討

### Option A: {案の名前}
- **概要**: {説明}
- **Pros**: {メリット}
- **Cons**: {デメリット}

### Option B: {案の名前}
- **概要**: {説明}
- **Pros**: {メリット}
- **Cons**: {デメリット}

### 選定理由
{なぜOption Xを選んだか、トレードオフの説明}

---

## 5. 実装計画

### Phase 1: {フェーズ名}（{期間目安}）
- [ ] **Task 1.1**: {タスク}
  - ファイル: `{パス}`
  - 変更内容: {詳細}
  - テスト: {対応するテスト}

- [ ] **Task 1.2**: ...

### Phase 2: {フェーズ名}
...

---

## 6. テスト戦略

### 単体テスト
- {テスト対象1}: {テスト内容}
- {テスト対象2}: {テスト内容}

### 結合テスト
- {シナリオ1}: {テスト内容}

### 手動テスト
- {確認項目1}
- {確認項目2}

---

## 7. リスクと軽減策

| リスク | 影響度 | 発生確率 | 軽減策 |
|--------|--------|----------|--------|
| {リスク1} | High/Med/Low | High/Med/Low | {対策} |
| {リスク2} | ... | ... | ... |

---

## 8. 将来の拡張性

- {将来対応が必要になりそうな点}
- {今回は対象外だが考慮した点}

---

## 9. 参考資料

- {関連ドキュメント}
- {参考にした外部リソース}
```

---

## 使い分けガイド

| 指標 | Quick | Standard | Detailed |
|------|-------|----------|----------|
| 変更ファイル数 | 1-2 | 3-10 | 10+ |
| 新規コンポーネント | なし | 少数 | 複数 |
| アーキテクチャ影響 | なし | 軽微 | あり |
| 設計判断 | 不要 | 少数 | 複数 |
| レビュー必要性 | 低 | 中 | 高 |

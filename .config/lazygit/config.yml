git:
  parseEmoji: true

gui:
  showIcons: true

os:
  editPreset: "nvim"

customCommands:
  # Commit (Ctrl+S)
  - key: "<c-s>"
    context: "global"
    description: "Conventional commit"
    prompts:
      - type: "menu"
        title: "What kind of commit type is it?"
        key: "Type"
        options:
          - name: "fix"
            description: "ãƒã‚°ã‚„ä¸å…·åˆã®ä¿®æ­£"
            value: "fix"
          - name: "feat"
            description: "æ–°æ©Ÿèƒ½ã®è¿½åŠ "
            value: "feat"
          - name: "docs"
            description: "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ›´æ–°ã‚„æ”¹å–„"
            value: "docs"
          - name: "style"
            description: "ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ä¿®æ­£ã€UIã®ã¿ã®å¤‰æ›´"
            value: "style"
          - name: "refactor"
            description: "ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æ”¹å–„ãªã—ã®ã‚³ãƒ¼ãƒ‰ã®æ”¹å–„"
            value: "refactor"
          - name: "test"
            description: "ãƒ†ã‚¹ãƒˆã®è¿½åŠ ã‚„æ”¹å–„"
            value: "test"
          - name: "perf"
            description: "ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æ”¹å–„"
            value: "perf"
          - name: "build"
            description: "ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã‚„å¤–éƒ¨ä¾å­˜é–¢ä¿‚ã®å¤‰æ›´"
            value: "build"
          - name: "ci"
            description: "CIè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å¤‰æ›´"
            value: "ci"
          - name: "chore"
            description: "ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ã®å¤‰æ›´ã‚„æ”¹å–„"
            value: "chore"
          - name: "wip"
            description: "ä½œæ¥­ä¸­"
            value: "wip"
      - type: "input"
        title: "Enter the Message"
        key: "Message"
        initialValue: ""
      - type: "menu"
        title: "Choose the emoji"
        key: "Emoji"
        options:
          # ç©º
          - name: '(empty)'
            description: 'çµµæ–‡å­—ãªã—'
            value: ''
          # feat
          - name: ':sparkles:'
            description: '(feat) âœ¨ æ–°æ©Ÿèƒ½ã®è¿½åŠ '
            value: ':sparkles:'
          - name: ':tada:'
            description: '(feat) ğŸ‰ åˆå›ã‚³ãƒŸãƒƒãƒˆ/å¤§ããªæ©Ÿèƒ½'
            value: ':tada:'
          - name: ':children_crossing:'
            description: '(feat) ğŸš¸ UX/ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã®æ”¹å–„'
            value: ':children_crossing:'
          # fix
          - name: ':bug:'
            description: '(fix) ğŸ› ãƒã‚°ä¿®æ­£'
            value: ':bug:'
          - name: ':ambulance:'
            description: '(fix) ğŸš‘ è‡´å‘½çš„ãªãƒã‚°ã®ç·Šæ€¥ä¿®æ­£'
            value: ':ambulance:'
          - name: ':lock:'
            description: '(fix) ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å•é¡Œã®ä¿®æ­£'
            value: ':lock:'
          - name: ':adhesive_bandage:'
            description: '(fix) ğŸ©¹ è»½å¾®ãªä¿®æ­£'
            value: ':adhesive_bandage:'
          # docs
          - name: ':memo:'
            description: '(docs) ğŸ“ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®è¿½åŠ ãƒ»æ›´æ–°'
            value: ':memo:'
          - name: ':bulb:'
            description: '(docs) ğŸ’¡ ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã«ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ '
            value: ':bulb:'
          # style
          - name: ':art:'
            description: '(style) ğŸ¨ ã‚³ãƒ¼ãƒ‰æ§‹é€ /ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®æ”¹å–„'
            value: ':art:'
          - name: ':lipstick:'
            description: '(style) ğŸ’„ UI/ã‚¹ã‚¿ã‚¤ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã®æ›´æ–°'
            value: ':lipstick:'
          # refactor
          - name: ':recycle:'
            description: '(refactor) â™»ï¸ ã‚³ãƒ¼ãƒ‰ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°'
            value: ':recycle:'
          - name: ':fire:'
            description: '(refactor) ğŸ”¥ ã‚³ãƒ¼ãƒ‰ã‚„ãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤'
            value: ':fire:'
          - name: ':coffin:'
            description: '(refactor) âš°ï¸ ãƒ‡ãƒƒãƒ‰ã‚³ãƒ¼ãƒ‰ã®å‰Šé™¤'
            value: ':coffin:'
          - name: ':truck:'
            description: '(refactor) ğŸšš ãƒ•ã‚¡ã‚¤ãƒ«ã®ç§»å‹•/ãƒªãƒãƒ¼ãƒ '
            value: ':truck:'
          # test
          - name: ':white_check_mark:'
            description: '(test) âœ… ãƒ†ã‚¹ãƒˆã®è¿½åŠ ãƒ»æ›´æ–°'
            value: ':white_check_mark:'
          - name: ':test_tube:'
            description: '(test) ğŸ§ª å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã®è¿½åŠ '
            value: ':test_tube:'
          # perf
          - name: ':zap:'
            description: '(perf) âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æ”¹å–„'
            value: ':zap:'
          # build
          - name: ':package:'
            description: '(build) ğŸ“¦ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸/ä¾å­˜é–¢ä¿‚ã®è¿½åŠ ãƒ»æ›´æ–°'
            value: ':package:'
          - name: ':heavy_plus_sign:'
            description: '(build) â• ä¾å­˜é–¢ä¿‚ã®è¿½åŠ '
            value: ':heavy_plus_sign:'
          - name: ':heavy_minus_sign:'
            description: '(build) â– ä¾å­˜é–¢ä¿‚ã®å‰Šé™¤'
            value: ':heavy_minus_sign:'
          - name: ':arrow_up:'
            description: '(build) â¬†ï¸ ä¾å­˜é–¢ä¿‚ã®ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰'
            value: ':arrow_up:'
          - name: ':arrow_down:'
            description: '(build) â¬‡ï¸ ä¾å­˜é–¢ä¿‚ã®ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰'
            value: ':arrow_down:'
          # ci
          - name: ':construction_worker:'
            description: '(ci) ğŸ‘· CIé–¢é€£ã®è¿½åŠ ãƒ»æ›´æ–°'
            value: ':construction_worker:'
          - name: ':green_heart:'
            description: '(ci) ğŸ’š CIãƒ“ãƒ«ãƒ‰ã®ä¿®æ­£'
            value: ':green_heart:'
          # chore
          - name: ':wrench:'
            description: '(chore) ğŸ”§ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®è¿½åŠ ãƒ»æ›´æ–°'
            value: ':wrench:'
          - name: ':building_construction:'
            description: '(chore) ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®å¤‰æ›´'
            value: ':building_construction:'
          - name: ':see_no_evil:'
            description: '(chore) ğŸ™ˆ .gitignoreã®è¿½åŠ ãƒ»æ›´æ–°'
            value: ':see_no_evil:'
          # wip
          - name: ':construction:'
            description: '(wip) ğŸš§ ä½œæ¥­ä¸­'
            value: ':construction:'
      - type: "confirm"
        title: "Commit"
        body: "Commit with the message '{{.Form.Type}}: {{.Form.Message}}{{.Form.Emoji}}'. Is this okay?"
    command: "bash -c 'type=\"{{.Form.Type}}\"; message=\"{{.Form.Message}}\"; emoji=\"{{.Form.Emoji}}\"; commit_message=\"$type: $message $emoji\"; git commit -m \"$commit_message\"'"
    loadingText: "Commiting..."

  # Pull --rebase (Ctrl+R)
  - key: "<c-r>"
    context: "global"
    description: "Pull --rebase from remote"
    prompts:
      - type: "menu"
        title: "ãƒ™ãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒã‚’é¸æŠ"
        key: "Branch"
        options:
          - name: "develop"
            description: "developãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰rebase pull"
            value: "develop"
          - name: "main"
            description: "mainãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰rebase pull"
            value: "main"
          - name: "master"
            description: "masterãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰rebase pull"
            value: "master"
    command: "git pull --rebase origin {{.Form.Branch}}"
    loadingText: "Pullä¸­..."

  # Force push (Ctrl+F)
  - key: "<c-f>"
    context: "global"
    description: "Force push (--force-with-lease)"
    prompts:
      - type: "confirm"
        title: "Force Push"
        body: "æœ¬å½“ã« force push ã—ã¾ã™ã‹ï¼Ÿ"
    command: "git push origin HEAD --force-with-lease"
    loadingText: "Pushä¸­..."

  # Delete merged branches (Ctrl+D)
  - key: "<c-d>"
    context: "global"
    description: "Delete merged branches"
    command: >-
      bash -c '
      branches=$(git branch --merged | grep -v "\*\|main\|master\|develop")
      if [ -z "$branches" ]; then
        echo "å‰Šé™¤å¯¾è±¡ã®ãƒãƒ¼ã‚¸æ¸ˆã¿ãƒ–ãƒ©ãƒ³ãƒã¯ã‚ã‚Šã¾ã›ã‚“"
      else
        selected=$(echo "$branches" | fzf --multi --header="å‰Šé™¤ã™ã‚‹ãƒ–ãƒ©ãƒ³ãƒã‚’é¸æŠ (Tab: è¤‡æ•°é¸æŠ, Enter: ç¢ºå®š)")
        if [ -n "$selected" ]; then
          echo "$selected" | xargs -r git branch -d
        fi
      fi
      '
    loadingText: "å®Ÿè¡Œä¸­..."

  # PRä½œæˆ (Ctrl+P) - octo.nvim
  - key: "<c-p>"
    context: "global"
    description: "Pull Requestä½œæˆ (octo.nvim)"
    subprocess: true
    command: "git push -u origin HEAD && nvim -c 'Octo pr create'"
    loadingText: "octo.nvimèµ·å‹•ä¸­..."

  # gh-dashèµ·å‹• (Ctrl+G)
  - key: "<c-g>"
    context: "global"
    description: "gh-dash (GitHub Dashboard)"
    subprocess: true
    command: "gh dash"
    loadingText: "gh-dashèµ·å‹•ä¸­..."

  # ãƒ–ãƒ©ãƒ³ãƒã®PRã‚’Octoã§é–‹ã (Ctrl+O) - localBranches
  - key: "<c-o>"
    context: "localBranches"
    description: "ã“ã®ãƒ–ãƒ©ãƒ³ãƒã®PRã‚’Octoã§é–‹ã"
    subprocess: true
    command: "nvim -c 'Octo pr edit {{.SelectedLocalBranch.Name}}'"
    loadingText: "octo.nvimèµ·å‹•ä¸­..."

  # ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã®PRã‚’Octoã§é–‹ã (Ctrl+O) - global
  - key: "<c-o>"
    context: "global"
    description: "ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã®PRã‚’Octoã§é–‹ã"
    subprocess: true
    command: "nvim -c 'Octo pr'"
    loadingText: "octo.nvimèµ·å‹•ä¸­..."
